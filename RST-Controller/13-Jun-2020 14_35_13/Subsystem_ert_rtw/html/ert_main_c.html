<!--
  ~ Copyright (c) 2020. Mohamed Essam Abdelfatah
  -->

<!DOCTYPE html>
<html>
<head>
    <script src="./js/coder_app.js" type="text/javascript"></script>
    <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
    <script src="./rtwreport_utils.js" type="text/javascript"></script>
    <script src="./rtwannotate.js" type="text/javascript"></script>
    <link href="./css/coder_app.css" rel="stylesheet" type="text/css"/>
</head>
<body onload="srcFileOnload();">
<pre id="code">
<table class="code" id="codeTbl">
<tr id="1" name="1">
<td><a class='ln' id="l1">1</a></td><td><span class="ct">/*</span></td></tr>
<tr id="2" name="2">
<td><a class='ln' id="l2">2</a></td><td><span class="ct"> * File: ert_main.c</span></td></tr>
<tr id="3" name="3">
<td><a class='ln' id="l3">3</a></td><td><span class="ct"> *</span></td></tr>
<tr id="4" name="4">
<td><a class='ln' id="l4">4</a></td><td><span
        class="ct"> * Code generated for Simulink model 'Subsystem'.</span></td></tr>
<tr id="5" name="5">
<td><a class='ln' id="l5">5</a></td><td><span class="ct"> *</span></td></tr>
<tr id="6" name="6">
<td><a class='ln' id="l6">6</a></td><td><span class="ct"> * Model version                  : 1.1</span></td></tr>
<tr id="7" name="7">
<td><a class='ln' id="l7">7</a></td><td><span
        class="ct"> * Simulink Coder version         : 8.13 (R2017b) 24-Jul-2017</span></td></tr>
<tr id="8" name="8">
<td><a class='ln' id="l8">8</a></td><td><span
        class="ct"> * C/C++ source code generated on : Sat Jun 13 14:36:13 2020</span></td></tr>
<tr id="9" name="9">
<td><a class='ln' id="l9">9</a></td><td><span class="ct"> *</span></td></tr>
<tr id="10" name="10">
<td><a class='ln' id="l10">10</a></td><td><span class="ct"> * Target selection: ert.tlc</span></td></tr>
<tr id="11" name="11">
<td><a class='ln' id="l11">11</a></td><td><span class="ct"> * Embedded hardware selection: NXP-&gt;Cortex-M4</span></td></tr>
<tr id="12" name="12">
<td><a class='ln' id="l12">12</a></td><td><span class="ct"> * Code generation objectives:</span></td></tr>
<tr id="13" name="13">
<td><a class='ln' id="l13">13</a></td><td><span class="ct"> *    1. Execution efficiency</span></td></tr>
<tr id="14" name="14">
<td><a class='ln' id="l14">14</a></td><td><span class="ct"> *    2. RAM efficiency</span></td></tr>
<tr id="15" name="15">
<td><a class='ln' id="l15">15</a></td><td><span class="ct"> * Validation result: Not run</span></td></tr>
<tr id="16" name="16">
<td><a class='ln' id="l16">16</a></td><td><span class="ct"> */</span></td></tr>
<tr id="17" name="17">
<td><a class='ln' id="l17">17</a></td><td></td></tr>
<tr id="18" name="18">
<td><a class='ln' id="l18">18</a></td><td><span class="pp">#include &lt;stddef.h&gt;</span></td></tr>
<tr id="19" name="19">
<td><a class='ln' id="l19">19</a></td><td><span class="pp">#include &lt;stdio.h&gt;</span>                     <span
        class="ct">/* This ert_main.c example uses printf/fflush */</span></td></tr>
<tr id="20" name="20">
<td><a class='ln' id="l20">20</a></td><td><span class="pp">#include "Subsystem.h"</span>                 <span
        class="ct">/* Model's header file */</span></td></tr>
<tr id="21" name="21">
<td><a class='ln' id="l21">21</a></td><td><span class="pp">#include "rtwtypes.h"</span></td></tr>
<tr id="22" name="22">
<td><a class='ln' id="l22">22</a></td><td></td></tr>
<tr id="23" name="23">
<td><a class='ln' id="l23">23</a></td><td><span class="ct">/*</span></td></tr>
<tr id="24" name="24">
<td><a class='ln' id="l24">24</a></td><td><span class="ct"> * Associating rt_OneStep with a real-time clock or interrupt service routine</span></td></tr>
<tr id="25" name="25">
<td><a class='ln' id="l25">25</a></td><td><span class="ct"> * is what makes the generated code "real-time".  The function rt_OneStep is</span></td></tr>
<tr id="26" name="26">
<td><a class='ln' id="l26">26</a></td><td><span class="ct"> * always associated with the base rate of the model.  Subrates are managed</span></td></tr>
<tr id="27" name="27">
<td><a class='ln' id="l27">27</a></td><td><span class="ct"> * by the base rate from inside the generated code.  Enabling/disabling</span></td></tr>
<tr id="28" name="28">
<td><a class='ln' id="l28">28</a></td><td><span class="ct"> * interrupts and floating point context switches are target specific.  This</span></td></tr>
<tr id="29" name="29">
<td><a class='ln' id="l29">29</a></td><td><span class="ct"> * example code indicates where these should take place relative to executing</span></td></tr>
<tr id="30" name="30">
<td><a class='ln' id="l30">30</a></td><td><span class="ct"> * the generated code step function.  Overrun behavior should be tailored to</span></td></tr>
<tr id="31" name="31">
<td><a class='ln' id="l31">31</a></td><td><span class="ct"> * your application needs.  This example simply sets an error status in the</span></td></tr>
<tr id="32" name="32">
<td><a class='ln' id="l32">32</a></td><td><span
        class="ct"> * real-time model and returns from rt_OneStep.</span></td></tr>
<tr id="33" name="33">
<td><a class='ln' id="l33">33</a></td><td><span class="ct"> */</span></td></tr>
<tr id="34" name="34">
<td><a class='ln' id="l34">34</a></td><td><span class="kw">void</span> <a class="tk" id="34c6">rt_OneStep</a>(<span
        class="kw">void</span>);</td></tr>
<tr id="35" name="35">
<td><a class='ln' id="l35">35</a></td><td><span class="kw">void</span> <a class="tk" id="35c6">rt_OneStep</a>(<span
        class="kw">void</span>)</td></tr>
<tr id="36" name="36">
<td><a class='ln' id="l36">36</a></td><td><span class="br">{</span></td></tr>
<tr id="37" name="37">
<td><a class='ln' id="l37">37</a></td><td>  <span class="kw">static</span> <a class="tk" id="37c10">boolean_T</a> <a
        class="tk" id="37c20">OverrunFlag</a> = false;</td></tr>
<tr id="38" name="38">
<td><a class='ln' id="l38">38</a></td><td></td></tr>
<tr id="39" name="39">
<td><a class='ln' id="l39">39</a></td><td>  <span class="ct">/* Disable interrupts here */</span></td></tr>
<tr id="40" name="40">
<td><a class='ln' id="l40">40</a></td><td></td></tr>
<tr id="41" name="41">
<td><a class='ln' id="l41">41</a></td><td>  <span class="ct">/* Check for overrun */</span></td></tr>
<tr id="42" name="42">
<td><a class='ln' id="l42">42</a></td><td>  <span class="kw">if</span> (<a class="tk" id="42c7">OverrunFlag</a>) <span
        class="br">{</span></td></tr>
<tr id="43" name="43">
<td><a class='ln' id="l43">43</a></td><td>    <a class="tk" id="43c5">rtmSetErrorStatus</a>(<a class="tk"
                                                                                               id="43c23">rtM</a>, "Overrun");</td></tr>
<tr id="44" name="44">
<td><a class='ln' id="l44">44</a></td><td>    <span class="kw">return</span>;</td></tr>
<tr id="45" name="45">
<td><a class='ln' id="l45">45</a></td><td>  <span class="br">}</span></td></tr>
<tr id="46" name="46">
<td><a class='ln' id="l46">46</a></td><td></td></tr>
<tr id="47" name="47">
<td><a class='ln' id="l47">47</a></td><td>  <a class="tk" id="47c3">OverrunFlag</a> = true;</td></tr>
<tr id="48" name="48">
<td><a class='ln' id="l48">48</a></td><td></td></tr>
<tr id="49" name="49">
<td><a class='ln' id="l49">49</a></td><td>  <span class="ct">/* Save FPU context here (if necessary) */</span></td></tr>
<tr id="50" name="50">
<td><a class='ln' id="l50">50</a></td><td>  <span class="ct">/* Re-enable timer or interrupt here */</span></td></tr>
<tr id="51" name="51">
<td><a class='ln' id="l51">51</a></td><td>  <span class="ct">/* Set model inputs here */</span></td></tr>
<tr id="52" name="52">
<td><a class='ln' id="l52">52</a></td><td></td></tr>
<tr id="53" name="53">
<td><a class='ln' id="l53">53</a></td><td>  <span class="ct">/* Step the model */</span></td></tr>
<tr id="54" name="54">
<td><a class='ln' id="l54">54</a></td><td>  <a class="tk" id="54c3">Subsystem_step</a>();</td></tr>
<tr id="55" name="55">
<td><a class='ln' id="l55">55</a></td><td></td></tr>
<tr id="56" name="56">
<td><a class='ln' id="l56">56</a></td><td>  <span class="ct">/* Get model outputs here */</span></td></tr>
<tr id="57" name="57">
<td><a class='ln' id="l57">57</a></td><td></td></tr>
<tr id="58" name="58">
<td><a class='ln' id="l58">58</a></td><td>  <span class="ct">/* Indicate task complete */</span></td></tr>
<tr id="59" name="59">
<td><a class='ln' id="l59">59</a></td><td>  <a class="tk" id="59c3">OverrunFlag</a> = false;</td></tr>
<tr id="60" name="60">
<td><a class='ln' id="l60">60</a></td><td></td></tr>
<tr id="61" name="61">
<td><a class='ln' id="l61">61</a></td><td>  <span class="ct">/* Disable interrupts here */</span></td></tr>
<tr id="62" name="62">
<td><a class='ln' id="l62">62</a></td><td>  <span
        class="ct">/* Restore FPU context here (if necessary) */</span></td></tr>
<tr id="63" name="63">
<td><a class='ln' id="l63">63</a></td><td>  <span class="ct">/* Enable interrupts here */</span></td></tr>
<tr id="64" name="64">
<td><a class='ln' id="l64">64</a></td><td><span class="br">}</span></td></tr>
<tr id="65" name="65">
<td><a class='ln' id="l65">65</a></td><td></td></tr>
<tr id="66" name="66">
<td><a class='ln' id="l66">66</a></td><td><span class="ct">/*</span></td></tr>
<tr id="67" name="67">
<td><a class='ln' id="l67">67</a></td><td><span class="ct"> * The example "main" function illustrates what is required by your</span></td></tr>
<tr id="68" name="68">
<td><a class='ln' id="l68">68</a></td><td><span class="ct"> * application code to initialize, execute, and terminate the generated code.</span></td></tr>
<tr id="69" name="69">
<td><a class='ln' id="l69">69</a></td><td><span class="ct"> * Attaching rt_OneStep to a real-time clock is target specific.  This example</span></td></tr>
<tr id="70" name="70">
<td><a class='ln' id="l70">70</a></td><td><span class="ct"> * illustrates how you do this relative to initializing the model.</span></td></tr>
<tr id="71" name="71">
<td><a class='ln' id="l71">71</a></td><td><span class="ct"> */</span></td></tr>
<tr id="72" name="72">
<td><a class='ln' id="l72">72</a></td><td><a class="tk" id="72c1">int_T</a> <a class="tk" id="72c7">main</a>(<a
        class="tk" id="72c12">int_T</a> <a class="tk" id="72c18">argc</a>, <span class="kw">const</span> <span
        class="kw">char</span> <a class="tk" id="72c35">*</a><a class="tk" id="72c36">argv</a>[])</td></tr>
<tr id="73" name="73">
<td><a class='ln' id="l73">73</a></td><td><span class="br">{</span></td></tr>
<tr id="74" name="74">
<td><a class='ln' id="l74">74</a></td><td>  <span class="ct">/* Unused arguments */</span></td></tr>
<tr id="75" name="75">
<td><a class='ln' id="l75">75</a></td><td>  (<span class="kw">void</span>)(<a class="tk" id="75c10">argc</a>);</td></tr>
<tr id="76" name="76">
<td><a class='ln' id="l76">76</a></td><td>  (<span class="kw">void</span>)(<a class="tk" id="76c10">argv</a>);</td></tr>
<tr id="77" name="77">
<td><a class='ln' id="l77">77</a></td><td></td></tr>
<tr id="78" name="78">
<td><a class='ln' id="l78">78</a></td><td>  <span class="ct">/* Initialize model */</span></td></tr>
<tr id="79" name="79">
<td><a class='ln' id="l79">79</a></td><td>  <a class="tk" id="79c3">Subsystem_initialize</a>();</td></tr>
<tr id="80" name="80">
<td><a class='ln' id="l80">80</a></td><td></td></tr>
<tr id="81" name="81">
<td><a class='ln' id="l81">81</a></td><td>  <span class="ct">/* Attach rt_OneStep to a timer or interrupt service routine with</span></td></tr>
<tr id="82" name="82">
<td><a class='ln' id="l82">82</a></td><td><span class="ct">   * period 1.0 seconds (the model's base sample time) here.  The</span></td></tr>
<tr id="83" name="83">
<td><a class='ln' id="l83">83</a></td><td><span class="ct">   * call syntax for rt_OneStep is</span></td></tr>
<tr id="84" name="84">
<td><a class='ln' id="l84">84</a></td><td><span class="ct">   *</span></td></tr>
<tr id="85" name="85">
<td><a class='ln' id="l85">85</a></td><td><span class="ct">   *  rt_OneStep();</span></td></tr>
<tr id="86" name="86">
<td><a class='ln' id="l86">86</a></td><td><span class="ct">   */</span></td></tr>
<tr id="87" name="87">
<td><a class='ln' id="l87">87</a></td><td>  <a class="tk" id="87c3">printf</a>("Warning: The simulation will run forever. "</td></tr>
<tr id="88" name="88">
<td><a class='ln' id="l88">88</a></td><td>         "Generated ERT main won't simulate model step behavior. "</td></tr>
<tr id="89" name="89">
<td><a class='ln' id="l89">89</a></td><td>         "To change this behavior select the 'MAT-file logging' option.\n");</td></tr>
<tr id="90" name="90">
<td><a class='ln' id="l90">90</a></td><td>  <a class="tk" id="90c3">fflush</a>((<a class="tk"
                                                                                   id="90c11">NULL</a>));</td></tr>
<tr id="91" name="91">
<td><a class='ln' id="l91">91</a></td><td>  <span class="kw">while</span> (<a class="tk"
                                                                              id="91c10">rtmGetErrorStatus</a>(<a
        class="tk" id="91c28">rtM</a>) <a class="tk" id="91c33">==</a> (<a class="tk" id="91c37">NULL</a>)) <span
        class="br">{</span></td></tr>
<tr id="92" name="92">
<td><a class='ln' id="l92">92</a></td><td>    <span
        class="ct">/*  Perform other application tasks here */</span></td></tr>
<tr id="93" name="93">
<td><a class='ln' id="l93">93</a></td><td>  <span class="br">}</span></td></tr>
<tr id="94" name="94">
<td><a class='ln' id="l94">94</a></td><td></td></tr>
<tr id="95" name="95">
<td><a class='ln' id="l95">95</a></td><td>  <span class="ct">/* Disable rt_OneStep() here */</span></td></tr>
<tr id="96" name="96">
<td><a class='ln' id="l96">96</a></td><td>  <span class="kw">return</span> 0;</td></tr>
<tr id="97" name="97">
<td><a class='ln' id="l97">97</a></td><td><span class="br">}</span></td></tr>
<tr id="98" name="98">
<td><a class='ln' id="l98">98</a></td><td></td></tr>
<tr id="99" name="99">
<td><a class='ln' id="l99">99</a></td><td><span class="ct">/*</span></td></tr>
<tr id="100" name="100">
<td><a class='ln' id="l100">100</a></td><td><span class="ct"> * File trailer for generated code.</span></td></tr>
<tr id="101" name="101">
<td><a class='ln' id="l101">101</a></td><td><span class="ct"> *</span></td></tr>
<tr id="102" name="102">
<td><a class='ln' id="l102">102</a></td><td><span class="ct"> * [EOF]</span></td></tr>
<tr id="103" name="103">
<td><a class='ln' id="l103">103</a></td><td><span class="ct"> */</span></td></tr>
<tr id="104" name="104">
<td><a class='ln' id="l104">104</a></td><td></td></tr>
</table>
</pre>
</body>
</html>
